!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],e):e((t=t||self).ReactQueryHydration={},t.React)}(this,(function(t,e){"use strict";function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function r(t){return t.state.isPaused}function u(t){return"success"===t.state.status}function a(t,e,r){if("object"==typeof e&&null!==e){var u=t.getMutationCache(),a=t.getQueryCache(),o=e.mutations||[],i=e.queries||[];o.forEach((function(e){var a;u.build(t,n({},null==r||null==(a=r.defaultOptions)?void 0:a.mutations,{mutationKey:e.mutationKey}),e.state)})),i.forEach((function(e){var u,o=a.get(e.queryHash);o?o.state.dataUpdatedAt<e.state.dataUpdatedAt&&o.setState(e.state):a.build(t,n({},null==r||null==(u=r.defaultOptions)?void 0:u.queries,{queryKey:e.queryKey,queryHash:e.queryHash}),e.state)}))}}var o=(e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e).createContext(void 0),i=e.createContext(!1);var s=function(){var t=e.useContext(e.useContext(i)&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=o),window.ReactQueryClientContext):o);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t};function c(t,n){var r=s(),u=e.useRef(n);u.current=n,e.useMemo((function(){t&&a(r,t,u.current)}),[r,t])}t.Hydrate=function(t){var e=t.children,n=t.options;return c(t.state,n),e},t.dehydrate=function(t,e){var n,a,o=[],i=[];if(!1!==(null==(n=e=e||{})?void 0:n.dehydrateMutations)){var s=e.shouldDehydrateMutation||r;t.getMutationCache().getAll().forEach((function(t){s(t)&&o.push(function(t){return{mutationKey:t.options.mutationKey,state:t.state}}(t))}))}if(!1!==(null==(a=e)?void 0:a.dehydrateQueries)){var c=e.shouldDehydrateQuery||u;t.getQueryCache().getAll().forEach((function(t){c(t)&&i.push(function(t){return{state:t.state,queryKey:t.queryKey,queryHash:t.queryHash}}(t))}))}return{mutations:o,queries:i}},t.hydrate=a,t.useHydrate=c,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=react-query-hydration.production.min.js.map
